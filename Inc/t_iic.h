/////////////////////////////////////////////////////////////////////////////
// File Name: iic.h
// Decs: Simulate iic controll.
// Author: Tony Liu
// Date: 2016.12
/////////////////////////////////////////////////////////////////////////////
#ifndef _T_IIC_H
#define _T_IIC_H

#include "stdint.h"
#include "stdio.h"

#define 	HIGH        			1
#define 	LOW         			0

//IIC设备定义
typedef __packed  struct
{
    void (*fn_delay)(void);
    
	void (*fn_sda_in)(void);
	void (*fn_sda_out)(void);
    
    uint8_t (*fn_sda_read)(void);
    
	void (*fn_sda_high)(void);
	void (*fn_sda_low)(void);
    
	void (*fn_scl_high)(void);
	void (*fn_scl_low)(void);
}type_iic; 


//////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////
//模拟I2C
////////////////////////////////////////////////////////////
void _iic_start(type_iic dev);
void _iic_stop(type_iic dev);

void _iic_ack(type_iic dev);
void _iic_no_ack(type_iic dev);

uint8_t _iic_wait_slave_ack(type_iic dev);

uint8_t _iic_read_byte( type_iic dev, uint8_t ack);
void    _iic_send_byte( type_iic dev, uint8_t byte );
////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////
/*
//软件模拟读写
uint8_t I2C2_WriteByte( type_iic dev, uint8_t cmd_write, uint8_t addr, uint8_t data );
uint8_t I2C2_ReadByte( type_iic dev, uint8_t cmd_read, uint8_t addr );
uint8_t I2C2_ReadBytes( type_iic dev, uint8_t cmd_read, uint8_t addr, uint8_t len,uint8_t *buf );
*/
////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////
#endif//!_T_IIC_H
